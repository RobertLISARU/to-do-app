(this["webpackJsonpto-do-app"]=this["webpackJsonpto-do-app"]||[]).push([[0],{25:function(t,e,n){},27:function(t,e,n){},51:function(t,e,n){"use strict";n.r(e);var a=n(0),c=n.n(a),o=n(5),i=n.n(o),s=(n(25),n(9)),r=n.n(s),d=n(18),u=n(6),p=(n(27),n(67)),j=n(7),l=n.n(j),h="https://todo-backend-hanami.herokuapp.com/";var f={getAll:function(){return l.a.get(h,{headers:{Accept:"application/json"}})},create:function(t){return l.a.post(h,t,{headers:{Accept:"application/json","Content-Type":"application/json"}})},update:function(t,e){return l.a.patch(t.url,e,{headers:{Accept:"application/json","Content-Type":"application/json"}})}},b=n(1),g=function(t){var e=t.todo,n=t.notifyChange;return Object(b.jsxs)("li",{children:[Object(b.jsx)(p.a,{inputProps:{"data-testid":"todoCheckbox"},checked:e.completed,onChange:function(t){f.update(e,{completed:t.target.checked}).then((function(){return n()}))}}),Object(b.jsx)("div",{className:"todoLabel","data-testid":"todoLabel",children:e.completed?Object(b.jsx)("s",{children:e.title}):e.title})]})},O=function(t){var e=t.todos,n=t.notifyChange;return Object(b.jsx)("div",{className:"todosListWrapper",children:Object(b.jsx)("ul",{children:e.map((function(t){return Object(b.jsx)(g,{todo:t,notifyChange:n},t.id)}))})})},x=function(t){var e=t.notifyChange,n=Object(a.useState)(""),c=Object(u.a)(n,2),o=c[0],i=c[1];return Object(b.jsxs)("header",{className:"header",children:[Object(b.jsx)("h1",{children:"Todos"}),Object(b.jsx)("input",{"data-testid":"newTodoInput",placeholder:"What needs to be done",value:o,onChange:function(t){i(t.target.value)}}),Object(b.jsx)("span",{className:"addBtn","data-testid":"addButton",onClick:function(){f.create({title:o}).then((function(){i(""),e()}))},children:"Add"})]})};var v=function(){var t=Object(a.useState)({data:[],isLoading:!0}),e=Object(u.a)(t,2),n=e[0],c=e[1],o=function(){var t=Object(d.a)(r.a.mark((function t(){var e;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.getAll();case 2:e=t.sent,c({data:e.data,isLoading:!1});case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(a.useEffect)((function(){o()}),[]),Object(b.jsx)("div",{className:"app",children:n.isLoading?Object(b.jsx)("p",{children:"Fetching todos..."}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(x,{notifyChange:o}),Object(b.jsx)(O,{todos:n.data,notifyChange:o})]})})},m=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,68)).then((function(e){var n=e.getCLS,a=e.getFID,c=e.getFCP,o=e.getLCP,i=e.getTTFB;n(t),a(t),c(t),o(t),i(t)}))};i.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(v,{})}),document.getElementById("root")),m()}},[[51,1,2]]]);
//# sourceMappingURL=main.4fb38153.chunk.js.map