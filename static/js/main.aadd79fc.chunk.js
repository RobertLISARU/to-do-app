(this["webpackJsonpto-do-app"]=this["webpackJsonpto-do-app"]||[]).push([[0],{47:function(t,e,n){},49:function(t,e,n){},78:function(t,e,n){"use strict";n.r(e);var a=n(0),c=n.n(a),o=n(13),i=n.n(o),r=(n(47),n(28)),s=n.n(r),d=n(37),u=n(25),l=(n(49),n(93)),j=n(39),h=n.n(j),p=n(94),f=n(21),b=n.n(f),O="https://todo-backend-hanami.herokuapp.com/",g={headers:{Accept:"application/json","Content-Type":"application/json"}};var x={getAll:function(){return b.a.get(O,g)},create:function(t){return b.a.post(O,t,g)},update:function(t,e){return b.a.patch(t.url,e,g)},remove:function(t){return b.a.delete(t.url,g)}},m=n(2),v=function(t){var e=t.todo,n=t.notifyChange;return Object(m.jsxs)("li",{children:[Object(m.jsx)(l.a,{inputProps:{"data-testid":"todoCheckbox"},checked:e.completed,onChange:function(t){x.update(e,{completed:t.target.checked}).then((function(){return n()}))}}),Object(m.jsx)("div",{className:"todoLabel","data-testid":"todoLabel",children:e.completed?Object(m.jsx)("s",{children:e.title}):e.title}),Object(m.jsx)(p.a,{onClick:function(){x.remove(e).then((function(){return n()}))},"aria-label":"delete",className:"deleteButton",children:Object(m.jsx)(h.a,{})})]})},C=function(t){var e=t.todos,n=t.notifyChange;return Object(m.jsx)("div",{className:"todosListWrapper",children:Object(m.jsx)("ul",{children:e.map((function(t){return Object(m.jsx)(v,{todo:t,notifyChange:n},t.id)}))})})},k=function(t){var e=t.notifyChange,n=Object(a.useState)(""),c=Object(u.a)(n,2),o=c[0],i=c[1];return Object(m.jsxs)("header",{className:"header",children:[Object(m.jsx)("h1",{children:"Todos"}),Object(m.jsx)("input",{"data-testid":"newTodoInput",placeholder:"What needs to be done",value:o,onChange:function(t){i(t.target.value)}}),Object(m.jsx)("span",{className:"addBtn","data-testid":"addButton",onClick:function(){x.create({title:o}).then((function(){i(""),e()}))},children:"Add"})]})};var y=function(){var t=Object(a.useState)({data:[],isLoading:!0}),e=Object(u.a)(t,2),n=e[0],c=e[1],o=function(){var t=Object(d.a)(s.a.mark((function t(){var e;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.getAll();case 2:e=t.sent,c({data:e.data,isLoading:!1});case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(a.useEffect)((function(){o()}),[]),Object(m.jsx)("div",{className:"app",children:n.isLoading?Object(m.jsx)("p",{children:"Fetching todos..."}):Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(k,{notifyChange:o}),Object(m.jsx)(C,{todos:n.data,notifyChange:o})]})})},L=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,95)).then((function(e){var n=e.getCLS,a=e.getFID,c=e.getFCP,o=e.getLCP,i=e.getTTFB;n(t),a(t),c(t),o(t),i(t)}))};i.a.render(Object(m.jsx)(c.a.StrictMode,{children:Object(m.jsx)(y,{})}),document.getElementById("root")),L()}},[[78,1,2]]]);
//# sourceMappingURL=main.aadd79fc.chunk.js.map